(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{109:function(e,t,c){},110:function(e,t,c){},114:function(e,t,c){},115:function(e,t,c){},118:function(e,t,c){},119:function(e,t,c){},120:function(e,t,c){},121:function(e,t,c){},122:function(e,t,c){},123:function(e,t,c){},240:function(e,t,c){},241:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(44),s=c.n(r),i=(c(109),c(110),c(7)),o=c(2),l=(c(114),c(115),c(1)),d=function(e){var t=e.buttonText,c=e.handleClick,n=e.className;return Object(l.jsx)("div",{children:Object(l.jsx)("button",{className:n,onClick:function(){return c()},children:t})})};d.defaultProps={className:"button"};var j=d,u=c(21),b=function(e){var t=e.cart,c=e.className,n=e.emptyButton,a=e.icon;return Object(l.jsxs)("div",{children:[0===t&&Object(l.jsxs)("div",{className:c,children:["\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u041f\u0443\u0441\u0442\u0430",Object(l.jsx)("div",{className:"cart-container",children:Object(l.jsx)("i",{className:"gg-shopping-cart"})})]}),0!==t&&Object(l.jsxs)("div",{className:c,children:["\u0422\u043e\u0432\u0430\u0440\u043e\u0432 \u0432 \u041a\u043e\u0440\u0437\u0438\u043d\u0435: ",t,a&&Object(l.jsx)("div",{className:"cart-container",children:Object(l.jsx)(u.b,{to:"/cart",children:Object(l.jsx)("i",{className:"gg-shopping-cart"})})}),n&&0!==t&&Object(l.jsx)(j,{buttonText:"Empty Cart",handleClick:function(){return n()},className:"empty-button"})]})]})},O=c(19),f=(c(118),c(4)),h=c(5),m=c(9),p=c(10),x=(c(119),function(e){Object(m.a)(c,e);var t=Object(p.a)(c);function c(){return Object(f.a)(this,c),t.apply(this,arguments)}return Object(h.a)(c,[{key:"render",value:function(){var e=this.props,t=e.handler,c=e.color;return Object(l.jsx)("div",{className:"star-fav",children:Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",onClick:t,fill:c,children:Object(l.jsx)("path",{d:"M12 .587l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z"})})})}}]),c}(n.PureComponent));x.defaultProps={color:"black"};var v=x;c(120);b.defaultProps={closeButton:!1,actions:{}};var y=function(e){var t=e.header,c=e.closeButton,n=e.text,a=e.actions,r=(e.handleClick,e.cart),s=Object(o.b)();return Object(l.jsx)("div",{className:"modal",onClick:function(){return s({type:"SET_MODAL",payload:!1})},children:Object(l.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(l.jsx)("h3",{children:t}),c&&Object(l.jsx)("span",{className:"close",onClick:function(){return s({type:"SET_MODAL",payload:!1})},children:"\xd7"}),Object(l.jsx)("div",{className:"check"}),Object(l.jsx)("p",{children:n}),r&&Object(l.jsx)(b,{cart:r}),a]})})},g=function(e){var t=e.fav,c=void 0===t?[]:t,a=e.item,r=e.favAction,s=e.addToCart,i=e.cartButton,d=e.delFavs,u=e.counts,b=void 0===u?0:u,f=e.delItem,h=Object(o.b)(),m=Object(o.c)((function(e){return e.modal})),p=Object(n.useState)(!1),x=Object(O.a)(p,2),g=x[0],N=x[1];Object(n.useEffect)((function(){c.includes(a.id)?N(!0):N(!1)}),[c,a.id]);var C=g?"green":"black",S=b[a.id];return Object(l.jsxs)("div",{className:"gallery",children:[Object(l.jsxs)("div",{className:"cardTitle",children:["\u041d\u0430\u0431\u043e\u0440\u044b \u0434\u043b\u044f \u0432\u044b\u0448\u0438\u0432\u0430\u043d\u0438\u044f ",a.vendor," ",a.name," "]}),Object(l.jsx)("a",{href:a.img,children:Object(l.jsx)("img",{src:a.img,alt:a.name,className:"galleryImg",height:"120"})}),Object(l.jsxs)("div",{children:["\u0410\u0440\u0442\u0438\u043a\u0443\u043b: ",a.name]}),Object(l.jsxs)("div",{children:["\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c: ",a.vendor]}),Object(l.jsxs)("div",{children:["\u0426\u0435\u043d\u0430: ",a.price,"\u0433\u0440\u043d"]}),Object(l.jsxs)("div",{children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0446\u0432\u0435\u0442\u043e\u0432: ",a.colors," "]}),Object(l.jsxs)("div",{className:"star",children:[i&&Object(l.jsx)(j,{buttonText:"Add to cart",handleClick:function(){return s(a.id)},className:"button"}),r&&Object(l.jsx)(v,{id:a.id,color:C,handler:function(){return r(a.id)}}),d&&Object(l.jsx)(j,{buttonText:"Remove",handleClick:function(){return d(a.id)},className:"button"}),S>0&&Object(l.jsxs)("div",{className:"cartAmount",children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0435: ",S," "]}),f&&Object(l.jsx)(j,{buttonText:"Remove item",handleClick:function(){return f(a.id)},className:"button"}),m&&Object(l.jsx)(y,{header:"Cart",text:"You sure you want to delete this product from cart?",closeButton:!0,handleClick:function(){return h({type:"SET_MODAL",payload:!1})},actions:Object(l.jsx)("button",{onClick:function(){f(a.id),h({type:"SET_MODAL",payload:!1})},children:"Delete item"})})]})]})},N=(c(121),function(e){var t=e.items,c=e.modal,n=e.fav,a=e.addToCart,r=(e.setModal,e.cart),s=(e.setFav,Object(o.b)()),i=t.map((function(e){return Object(l.jsx)(g,{fav:n,item:e,cartButton:!0,favAction:function(){return d(e.id)},addToCart:function(){return a(e.id)}},e.id)})),d=function(e){n.includes(e)?(s({type:"DEL_FAV",payload:e}),localStorage.setItem("favourites",JSON.stringify(n))):(s({type:"ADD_FAV",payload:e}),localStorage.setItem("favourites",JSON.stringify(n)))};return Object(l.jsxs)("div",{className:"galleryItems",children:[i,c&&Object(l.jsx)(y,{header:"Cart",text:"Product succesfully added to cart",closeButton:!0,handleClick:function(){return s({type:"SET_MODAL",payload:!1})},actions:Object(l.jsx)("button",{onClick:function(){return s({type:"SET_MODAL",payload:!1})},children:"Okay"}),cart:r.length})]})}),C=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.store})),c=Object(o.c)((function(e){return e.cart})),n=Object(o.c)((function(e){return e.fav})),a=Object(o.c)((function(e){return e.modal}));return Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)("header",{className:"App-header",children:[Object(l.jsx)(N,{fav:n,addToCart:function(t){e({type:"ADD_CART",payload:t}),e({type:"SET_MODAL",payload:!0})},items:t,modal:a,cart:c}),Object(l.jsx)(b,{emptyButton:function(){return e({type:"DEL_CART",payload:[]})},icon:!0,className:"cart",cart:c.length})]})})},S=(c(122),function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.fav})),c=Object(o.c)((function(e){return e.store})).filter((function(e){return t.includes(e.id)})).map((function(e){return Object(l.jsx)(g,{fav:t,item:e,delFavs:function(){return n(e.id)}},e.id)})),n=function(t){e({type:"DEL_FAV",payload:t})};return Object(l.jsx)("div",{className:"galleryItems",children:c})}),T=(c(123),c(29)),A=c(11),E=c(104),k=["field","form"],D=function(e){var t=e.field,c=e.form,n=Object(E.a)(e,k),a=t.name;return Object(l.jsxs)("div",{children:[Object(l.jsx)("input",Object(A.a)(Object(A.a)({},n),t)),c.touched[a]&&c.errors[a]&&Object(l.jsx)("div",{className:"error",children:c.errors[a]})]})},_=c(30),L=c(100),I="This field is required",M=_.b().shape({name:_.c().required(I),lastname:_.c().required(I),age:_.a().required(I).positive().integer().typeError("you must specify a number"),adress:_.c().required(I),phone:_.c().matches(/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){10,14}(\s*)?$/,"Phone number is not valid")});var F=function(){var e=Object(o.c)((function(e){return e.cart})),t=Object(o.c)((function(e){return e.store})),c=Object(o.b)(),a=Object(n.useState)(!1),r=Object(O.a)(a,2),s=r[0],i=r[1],d=Object(n.useState)(),u=Object(O.a)(d,2),b=u[0],f=u[1],h=Object(n.useState)(!1),m=Object(O.a)(h,2),p=m[0],x=m[1],v=Object(n.useRef)();return Object(l.jsxs)("div",{children:[Object(l.jsx)(j,{buttonText:"open Form",handleClick:function(){return i(!s)},className:"empty-button"}),s&&Object(l.jsx)(T.c,{initialValues:{name:"",lastname:"",adress:"",age:"",phone:""},onSubmit:function(n){var a=v;n.phone=a.current.state.value,f(n);var r=t.filter((function(t){return e.includes(t.id)})),s={};e.forEach((function(e,t){s[e]=(s[e]||0)+1})),console.log("You bought",e.length,"items: "),r.map((function(e){return console.log(s[e.id],"of",e.name)})),c({type:"DEL_CART",payload:[]})},validationSchema:M,children:function(e){return Object(l.jsxs)(T.b,{noValidate:!0,children:[Object(l.jsx)("div",{children:Object(l.jsx)(T.a,{component:D,name:"name",type:"text",placeholder:"name"})}),Object(l.jsx)("div",{children:Object(l.jsx)(T.a,{component:D,name:"lastname",type:"text",placeholder:"lastname"})}),Object(l.jsx)("div",{children:Object(l.jsx)(T.a,{component:D,name:"age",type:"text",placeholder:"age"})}),Object(l.jsx)("div",{children:Object(l.jsx)(T.a,{component:D,name:"adress",type:"text",placeholder:"adress"})}),Object(l.jsxs)("div",{children:[Object(l.jsx)(L.a,{onBlur:function(){v.current.state.value.replace(/[^0-9]/g,"").length<12?x(!0):x(!1)},ref:v,allowEmptyFormatting:!0,mask:"_",name:"phone",format:"+38 (###) ###-##-##"}),p&&Object(l.jsx)("div",{children:"please input full number"})]}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{type:"submit",children:"Checkout"})})]})}}),Object(l.jsx)("div",{children:b&&Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:"You bought something! Details in the console"}),"Your credentials: ",Object(l.jsxs)("div",{children:["name: ",b.name]}),Object(l.jsxs)("div",{children:["lastname: ",b.lastname]}),Object(l.jsxs)("div",{children:["adress: ",b.adress]}),Object(l.jsxs)("div",{children:["age: ",b.age]}),Object(l.jsxs)("div",{children:["phone: ",b.phone]})]})})]})};var B=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.cart})),c=Object(o.c)((function(e){return e.modal})),a=Object(o.c)((function(e){return e.store}));Object(n.useEffect)((function(){localStorage.setItem("cart",JSON.stringify(t))}),[t]);var r=a.filter((function(e){return t.includes(e.id)})),s={};t.forEach((function(e,t){s[e]=(s[e]||0)+1}));var i=r.map((function(t){return Object(l.jsx)(g,{item:t,setModal:function(){return e({type:"SET_MODAL",payload:!1})},delItem:function(){return d(t.id)},counts:s},t.id)})),d=function(c){t.splice(t.indexOf(c),1),e({type:"DEL_CART",payload:t}),e({type:"SET_MODAL",payload:!0}),localStorage.setItem("cart",JSON.stringify(t))};return Object(l.jsxs)("div",{className:"galleryCart",children:[Object(l.jsx)(F,{}),Object(l.jsxs)("div",{children:[t&&Object(l.jsxs)("div",{className:"cartItems",children:[i,c&&Object(l.jsx)(y,{header:"Cart",text:"Item deleted from cart",closeButton:!0,handleClick:function(){return e({type:"SET_MODAL",payload:!1})},actions:Object(l.jsx)("button",{onClick:function(){e({type:"SET_MODAL",payload:!1})},children:"thanks!"})})]}),0===t.length&&Object(l.jsx)("div",{children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u041f\u0443\u0441\u0442\u0430"})]})]})},w=c(101),R=c.n(w),J=function(){var e=Object(o.c)((function(e){return e.cart})),t=Object(o.c)((function(e){return e.fav})),c=Object(o.b)();return Object(n.useEffect)((function(){R.a.get("/teststore/price.json").then((function(n){localStorage.setItem("cart",JSON.stringify(e)),localStorage.setItem("favourites",JSON.stringify(t)),c({type:"SET_STORE",payload:n.data})}))}),[e,t,c]),Object(l.jsxs)(i.c,{children:[Object(l.jsx)(i.a,{exact:!0,path:"/teststore",children:Object(l.jsx)(C,{})}),Object(l.jsx)(i.a,{exact:!0,path:"/teststore/cart",children:Object(l.jsx)(B,{})}),Object(l.jsx)(i.a,{exact:!0,path:"/teststore/favourites",children:Object(l.jsx)(S,{})})]})};c(240);var P=function(){return Object(l.jsxs)("ul",{className:"navbar",children:[Object(l.jsx)("li",{children:Object(l.jsx)(u.c,{className:"nav-link",exact:!0,to:"/teststore",activeClassName:"selected",children:"Home"})}),Object(l.jsx)("li",{children:Object(l.jsx)(u.c,{className:"nav-link",exact:!0,to:"/teststore/favourites",activeClassName:"selected",children:"Favourites"})}),Object(l.jsx)("li",{children:Object(l.jsx)(u.c,{className:"nav-link",exact:!0,to:"teststore/cart",activeClassName:"selected",children:"Cart"})})]})},V=function(){return Object(l.jsxs)("div",{className:"App-header",children:[Object(l.jsx)(P,{}),Object(l.jsx)(J,{})]})},q=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,242)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))},Y=c(51),z=c(102),H=c(103),W=c(12),$={store:[],cart:JSON.parse(localStorage.getItem("cart"))||[],fav:JSON.parse(localStorage.getItem("favourites"))||[],modal:!1},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_STORE":return Object(A.a)(Object(A.a)({},e),{},{store:t.payload});case"ADD_FAV":return Object(A.a)(Object(A.a)({},e),{},{fav:[].concat(Object(W.a)(e.fav),[t.payload])});case"DEL_FAV":return Object(A.a)(Object(A.a)({},e),{},{fav:e.fav.filter((function(e){return e!==t.payload}))});case"ADD_CART":return Object(A.a)(Object(A.a)({},e),{},{cart:[].concat(Object(W.a)(e.cart),[t.payload])});case"DEL_CART":return Object(A.a)(Object(A.a)({},e),{},{cart:Object(W.a)(t.payload)});case"SET_MODAL":return Object(A.a)(Object(A.a)({},e),{},{modal:t.payload});default:return e}},K=Object(Y.createStore)(G,Object(z.composeWithDevTools)(Object(Y.applyMiddleware)(H.a)));s.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(o.a,{store:K,children:Object(l.jsx)(u.a,{children:Object(l.jsx)(V,{})})})}),document.getElementById("root")),q()}},[[241,1,2]]]);
//# sourceMappingURL=main.b21605ba.chunk.js.map
